# Task #37: 核心服务层同步

## Description
更新Repository和Service实现，确保与标准化的实体属性保持一致，修复服务层的属性映射错误。

## Context
- RealSupabaseMessageService已部分修复但可能还有遗漏
- MockMessageService需要同步更新
- 数据库字段映射需要验证

## Acceptance Criteria
- [ ] 验证RealSupabaseMessageService属性映射完整性
- [ ] 更新MockMessageService使用新属性名
- [ ] 检查所有Repository实现的一致性
- [ ] 修复JSON序列化/反序列化方法
- [ ] 验证数据库字段映射正确

## Implementation Notes
- 重点检查_mapRowToMessage等转换方法
- 确保数据库字段名与实体属性对应正确
- 验证Mock服务行为与Real服务一致

## Estimated Hours: 1

## Dependencies
- Task #36 (实体层标准化)

## Definition of Done
- 所有Repository实现属性映射正确
- Mock和Real服务行为一致
- 服务层编译无错误